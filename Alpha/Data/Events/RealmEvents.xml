<?xml version="1.0" encoding="utf-8" ?>
<events>
	<event id="realm_1" type="realm" triggered-only="false">
		<label>A tithe has been collected in {Realm.Name}.</label>
		<conditions>
			<condition>Realm.IsIndependant</condition>
		</conditions>
		<meanTimeToHappen>
			<base>1y2m10d</base>
			<modifiers>
				<multiplier>Realm.TaxRate*5+0.5</multiplier>
				<reducer factor ="5">Calendar.Month &gt; 1 &amp;&amp; Calendar.Month &lt; 3</reducer>
				<reducer factor ="20">Realm.DirectVassalCount > 1</reducer>
			</modifiers>
		</meanTimeToHappen>
		<outcomes>
			<parameters>
				IScriptableRealm realm1;
				IScriptableRealm realm2;
			</parameters>
			<outcome>
				<iaAffinity>
					<base>10</base>
				</iaAffinity>
				<label>Store the coins in the vaults !</label>
				<tooltip>Gain {Realm.Income("2m").Format()} [gold]</tooltip>
				<effects>
					<effect>Realm.Treasury+=Realm.Income("2m")</effect>
				</effects>
			</outcome>
			<outcome>
				<iaAffinity>
					<base>1</base>
				</iaAffinity>
				<conditions>
					<condition>Realm.DirectVassalCount > 1</condition>
				</conditions>
				<preExecute>
					{
						realm1 = Realm.RandomDirectVassal;
						realm2 = Realm.RandomDirectVassalWhere((t) => t!= realm1);
					}
				</preExecute>
				<label>Distribute the money to my vassals !</label>
				<tooltip>{realm1.Name} would receive {Realm.Income("1m").Format()} [gold] and \n{realm2.Name} would receive {Realm.Income("1m").Format()} [gold]</tooltip>
				<effects>
					<effect>realm1.Treasury+=Realm.Income("1m")</effect>
					<effect>realm2.Treasury+=Realm.Income("1m")</effect>
				</effects>
			</outcome>
		</outcomes>
	</event>
</events>